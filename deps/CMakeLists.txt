include(ExternalProject)

# default search policy
if (NOT DEFINED CMAKE_FIND_ROOT_PATH_MODE_PROGRAM)
  set(CMAKE_FIND_ROOT_PATH_MODE_PROGRAM NEVER)
endif()
if (NOT DEFINED CMAKE_FIND_ROOT_PATH_MODE_LIBRARY)
  set(CMAKE_FIND_ROOT_PATH_MODE_LIBRARY ONLY)
endif()
if (NOT DEFINED CMAKE_FIND_ROOT_PATH_MODE_INCLUDE)
  set(CMAKE_FIND_ROOT_PATH_MODE_INCLUDE ONLY)
endif()
if (NOT DEFINED CMAKE_FIND_ROOT_PATH_MODE_PACKAGE)
  set(CMAKE_FIND_ROOT_PATH_MODE_PACKAGE ONLY)
endif()

# if depends libraries need cache, install to this path
set(DEPS_INSTALL_PREFIX   ${CMAKE_CURRENT_LIST_DIR}/${CMAKE_SYSTEM_NAME}/${CMAKE_SYSTEM_PROCESSOR}/${CMAKE_BUILD_TYPE})
set(CMAKE_PREFIX_PATH     ${DEPS_INSTALL_PREFIX} ${CMAKE_PREFIX_PATH})
set(CMAKE_FIND_ROOT_PATH  ${DEPS_INSTALL_PREFIX} ${CMAKE_FIND_ROOT_PATH})

# include all libs directory
include_directories(${DEPS_INSTALL_PREFIX}/include)
# link all libs directory
link_directories(${DEPS_INSTALL_PREFIX}/lib ${DEPS_INSTALL_PREFIX}/lib64)

# fPIC
set(CMAKE_POSITION_INDEPENDENT_CODE ON)

